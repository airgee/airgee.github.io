<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    聚合和继承 | Gridea
</title>
<link rel="shortcut icon" href="https://u2o.github.io/favicon.ico?v=1568871420462">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://u2o.github.io/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://u2o.github.io/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://u2o.github.io">
                <img class="avatar" src="https://u2o.github.io/images/avatar.png?v=1568871420462" alt="">
            </a>
            <div class="site-title">
                <h1>
                    Gridea
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            聚合和继承
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2019-09-19</time>
                            
                        </div>
                        
                                <div class="post-content">
                                    <p>聚合和继承<br>
Maven聚合（或者称为多模块），是为了能够使用一条命令就构建多个模块</p>
<!-- more -->
<h2 id="聚合">聚合</h2>
<p>Maven聚合（或者称为多模块），是为了能够使用一条命令就构建多个模块，方便快速构建项目，例如已经有两个模块，分别为A,B，我们需要创建一个额外的模块（假设名字为aggregator，然后通过该模块，来构建整个项目的所有模块，aggregator本身作为一个Maven项目，它必须有自己的POM,不过作为一个聚合项目，其POM又有特殊的地方，看下面的配置</p>
<!--more-->
<pre><code class="language-xml">&lt;project
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
        http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;
        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
        &lt;groupId&gt;com.yangyuanming&lt;/groupId&gt;
        &lt;artifact&gt;aggregator&lt;/artifact&gt;
        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
        &lt;packaging&gt;pom&lt;/packaging&gt;
        &lt;name&gt;Aggregator&lt;/name&gt;
        &lt;modules&gt;
            &lt;module&gt;../A&lt;/module&gt;
            &lt;module&gt;../B&lt;/module&gt;
        &lt;/modules&gt;
&lt;/project&gt;
</code></pre>
<p>必须声明<code>&lt;packaging&gt;</code>为pom，<strong>对于聚合模块来说，其打包方式必须为pom</strong>，否则无法构建。<br>
<code>&lt;modules&gt;</code>里的每一个<code>&lt;module&gt;</code>都可以用来指定一个被聚合模块，这里每个<code>&lt;module&gt;</code>的值都是一个当前pom的相对位置，本例中A、B和aggregator位于同一级目录下。</p>
<h2 id="继承">继承</h2>
<p>为了消除多模块项目中的重复配置，类似于java，maven中也有继承，一次声明，多次使用。父项目的pom.xml声明的配置，子项目pom.xml不需要声明就可以直接使用，子项目的配置可以覆盖父项目的配置。很多时候，我们使用继承主要是为了方便管理引用的构件(依赖和插件)。<br>
一个项目往往分为很多模块，而不同的模块中，引用的构件很多是一样的，使用继承就避免了在不同模块中重复引用的问题，同时也方便统一管理构件，构件版本号统一。</p>
<h3 id="继承示例">继承示例</h3>
<blockquote>
<p>父模块pom.xml</p>
</blockquote>
<pre><code class="language-xml">&lt;project
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xsi:shemaLocation=&quot;http://maven.apache.org/POM/4.0.0
http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.yangyuanming&lt;/groupId&gt;
    &lt;artifactId&gt;parent&lt;/artifactId&gt;
    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;name&gt;Parent&lt;/name&gt;
    &lt;dependencies&gt;
        ....
    &lt;/dependencies&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            ....
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</code></pre>
<p><code>&lt;packaging&gt;</code>的值必须为pom，由于父模块只是为了帮助消除配置的重复，因此它本身不包含除POM之外的项目文件，可以把项目中src/main/java和src/test/java目录删除。<strong>继承的是父模块的pom.xml</strong>。</p>
<p>子模块pom.xml</p>
<pre><code class="language-xml">&lt;project   
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xsi:shemaLocation=&quot;http://maven.apache.org/POM/4.0.0
http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;
    &lt;parent&gt;
        &lt;groupId&gt;com.yangyuanming&lt;groupId&gt;
        &lt;artifactId&gt;parent&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
        &lt;relativePath&gt;../parent/pom.xml&lt;/relativePath&gt;
    &lt;/parent&gt;
    
    &lt;artifactId&gt;A&lt;/artifactId&gt;
    
    &lt;name&gt;artifactId-A&lt;/name&gt;
    &lt;dependencies&gt;
        ....
    &lt;/dependencies&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            ....
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</code></pre>
<p>上面POM中使用parent元素声明父模块，<strong>paren下的子元素groupId、artifactId和version指定了父模块的坐标，这三个元素是必须的</strong>。元素relativePath表示了<strong>父模块POM</strong>的相对路径。相对路径允许你选择一个不同的路径。默认值是../pom.xml。当项目构建时，Maven会首先根据relativePath检查父pom，然后在本地仓库，最后在远程仓库寻找父项目的pom。此例子父模块parent和子模块在同一级目录下。</p>
<p>子模块会自动继承父模块的配置，子模块配置会覆盖从父模块继承来的配置。上面子模块child没有声明groupId，version，因为这个子模块隐式的从父模块继承了这两个元素，这也就消除了不必要的配置。上例中，父子模块使用了相同的groupId和version，如果遇到子模块需要使用和父模块不一样的groupId或者version的情况，可以在子模块中显式声明。子模块会自动继承父模块的插件和依赖，不需要再重新显式引入，这大大方便了多模块开发的管理。然而所有的子模块会将父pom.xml中定义的所有构件继承下来，不同模块所需的构件还是会有一点差别的，存在继承多余构件的问题，怎么办呢？看下一篇文章吧！</p>
<h3 id="可继承的pom元素">可继承的pom元素</h3>
<ul>
<li>groupId:项目组ID,项目坐标的核心元素</li>
<li>version:项目版本,项目坐标的核心元素</li>
<li>description:项目的描述信息</li>
<li>organnization:项目的组织信息</li>
<li>inceptionYear:项目的创始年份</li>
<li>url:项目的URL地址</li>
<li>developers:项目的开发者信息</li>
<li>contributors:项目的贡献者信息</li>
<li>distributionManagement:项目的部署配置</li>
<li>issueManagement:项目的缺陷跟踪系统信息</li>
<li>ciManagement:项目的集成信息</li>
<li>scm:项目的版本控制系统信息</li>
<li>mailingLists:项目的邮件列表信息</li>
<li>properties:自定义的Maven属性</li>
<li>dependencies:项目的依赖配置</li>
<li>dependencyManagement:项目的依赖管理配置</li>
<li>repositories:项目的仓库配置</li>
<li>build:包括项目的源码目录配置、输出目录配置、插件配置、插件管理配置等</li>
<li>reporting:包括项目的报告输出目录配置，报告插件配置等。</li>
</ul>
<h2 id="参考资料">参考资料</h2>
<blockquote>
<p><strong>lofty</strong>，<a href="https://www.cnblogs.com/wangwei-beijing/p/6535084.html">Maven——聚合与继承</a></p>
</blockquote>

                                </div>
                    </article>
                    <!--  -->
                    
                        <div class="next-post">
                            <div class="next">下一篇</div>
                            <a href="https://u2o.github.io/post/git-simple-case">
                                <h3 class="post-title">
                                    git的简单使用
                                </h3>
                            </a>
                        </div>
                        
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E8%81%9A%E5%90%88">聚合</a></li>
<li><a href="#%E7%BB%A7%E6%89%BF">继承</a>
<ul>
<li><a href="#%E7%BB%A7%E6%89%BF%E7%A4%BA%E4%BE%8B">继承示例</a></li>
<li><a href="#%E5%8F%AF%E7%BB%A7%E6%89%BF%E7%9A%84pom%E5%85%83%E7%B4%A0">可继承的pom元素</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料</a></li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*获取文章目录集合,可通过:header过滤器*/
                var alis = $('.post-content :header');
                /*获取侧边栏目录列表集合**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*获取滚动条到顶部的距离*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*获取锚点集合中的元素分别到顶点的距离*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*高亮显示*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*绑定滚动事件 */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://u2o.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
</body>

</html>